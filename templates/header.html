
<header class="sticky-top bg-navy-blue shadow-sm">
  <div class="container-fluid d-flex justify-content-between align-items-center py-1 py-lg-2">

    <!-- Left side: Menu + Logo -->
    <div class="d-flex align-items-center col-6 col-lg-4">
      <!-- Custom menu button -->
      <button class="btn text-yellow me-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
        aria-controls="offcanvasNavbar">
        <i class="fa-solid fa-bars fs-2"></i>
      </button>

      <!-- Logo -->
      <a href="{% url 'sports' %}" class="logo text-decoration-none">
        <span class="text-big text-linear-grad fw-bold italic">MOXBET</span>
      </a>
    </div>

    <!-- Center: Search bar (visible lg and above only) -->
    <div class="d-none d-lg-block col-lg-4 px-3">
      <form class="d-flex" role="search">
        <div class="input-group">
          <input class="form-control border-aqua" type="search" placeholder="Search Sports and Teams..." aria-label="Search">
          <button class="btn btn-yellow border-aqua" type="submit">Search</button>
        </div>
      </form>
    </div>

    <!-- Right side: Auth or Balance buttons -->
    <div class="d-flex col-6 col-lg-4 justify-content-end align-items-center">
      {% if user.is_authenticated %}
        <a href="{% url 'deposit' %}" class="btn header-btn py-1 me-2">Deposit</a>
        <div class="text-white text-end">
          <span class="d-block text-small">Balance</span>
          <span class="text-yellow">{{currency_symbol}}<span id="user_balance">{{ user.balance|floatformat:2 }}</span></span>
        </div>
      {% else %}
        <a href="{% url 'login' %}" class="btn text-yellow fw-bold me-2">Login</a>
        <a href="{% url 'register' %}" class="btn header-btn rounded-3">Register</a>
      {% endif %}
    </div>
  </div>
</header>

<!-- Offcanvas Sidebar -->
<div class="offcanvas offcanvas-start bg-sky-blue" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
  <div class="offcanvas-header">
    {% if user.is_authenticated %}
      <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Username: {{ request.user.username }}, ID: {{ request.user.id }}</h5>
    {% else %}
      <a href="{% url 'register' %}" class="btn rounded-3 py-1 me-1">Register</a>
    {% endif %}
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="navbar-nav">
      <li class="nav-item"><a class="nav-link text-white" href="#">Settings</a></li>
      <li class="nav-item"><a class="nav-link text-white" href="{% url 'sports' %}">Home</a></li>
      <li class="nav-item"><a class="nav-link text-white" href="{% url 'check_ticket' %}">Check Ticket</a></li>
      {% if user.is_authenticated %}
        <li><a class="nav-link text-white" href="{% url 'mybets' %}">My Bets</a></li>
        <li><a class="nav-link text-white" href="{% url 'deposit' %}">Deposit</a></li>
        <li><a class="nav-link text-white" href="{% url 'withdraw' %}">Withdraw</a></li>
        <form action="{% url 'logout' %}" method="POST">
          {% csrf_token %}
          <button type="submit" class="btn header-btn logout mt-2 w-100"><i class="fa-solid fa-arrow-right-from-bracket me-1"></i> Logout</button>
        </form>
      {% else %}
        <li class="mt-2"><a href="{% url 'login' %}" class="btn btn-yellow w-100">Login</a></li>
      {% endif %}
    </ul>
  </div>
</div>

